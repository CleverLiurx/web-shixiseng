# 什么是信道复用(多路复用),与keep-alive有何区别？

`信道复用`（也成多路复用）是HTTP2中新增的概念，类似于`keep-alive`建立一个TCP连接可以可以进行多个HTTP请求。

**keep-alive与多路复用区别：**

- HTTP/1.x 虽然引入了 `keep-alive` 长连接，但它每次请求必须等待上一次响应之后才能发起
- HTTP/1.x 是基于文本的，只能整体去传,HTTP/2 是基于二进制流的，可以分解为独立的帧，交错发送，所以keep-alive会按照请求发送的顺序返回响应，多路复用则不会
- HTTP/1.x keep-alive 为了解决队头阻塞，将同一个页面的资源分散到不同域名下，开启了多个 TCP 连接；HTTP/2 同域名下所有通信都在单个连接上完成
- HTTP/1.x keep-alive 单个 TCP 连接在同一时刻只能处理一个请求（两个请求的生命周期不能重叠），HTTP/2 单个 TCP 同一时刻可以发送多个请求和响应

**HTTP/2是怎么做到的？**

- 引入了 帧（frame）和流（stream），因为 HTTP/1.x 是基于文本的，因为是文本，就导致了它必须是个整体，在传输是不可切割的，只能整体去传
- HTTP/2 是基于二进制流的，它就可以把 HTTP 消息分解为独立的帧，交错发送，然后在另一端通过帧中的标识重新组装，这就是多路复用
